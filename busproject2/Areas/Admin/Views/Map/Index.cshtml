@using busproject2.Help
@model IEnumerable<busproject2.Models.Xe>
@{
    ViewBag.Title = "Map";
    Layout = "~/Areas/Admin/Views/Shared/_MyLayout.cshtml";

}
@*<ul class="mainmenu">
        <li class="sub-handle">
            Item 1
            <ul class="submenu">
                <li class="sub-li">item 1-1</li>
                <li class="sub-li">item 1-2</li>
                <li class="sub-li">item 1-1</li>
            </ul>
        </li>
        <li class="sub-handle">
            Item 2
            <ul class="submenu">
                <li class="sub-li">item 2-1</li>
                <li class="sub-li">item 2-2</li>
                <li class="sub-li">item 2-1</li>
            </ul>
        </li>
        <li>Item 3</li>
        <li>Item 4</li>
    </ul>*@
@*<div class="list-group mainmenu">
        <button type="button" class="list-group-item list-group-item-action active" aria-current="true">
            Alo
        </button>
        @foreach (var item in ViewBag.ListTuyen)
        {
            <button type="button" class="list-group-item list-group-item-action sub-handle">
                @item.TenTuyen
                <ul class="submenu">
                    <li class="sub-li">item 1-1</li>
                    <li class="sub-li">item 1-2</li>
                    <li class="sub-li">item 1-1</li>
                </ul>
            </button>
        }
    </div>*@



<!--<div class="row" style="padding:0">
    <div class="col-lg-12">
        <div class="ibox">
            <div class="ibox-title">
                <h5>Chọn Tuyến Xe</h5>
            </div>
            <div class="ibox-content">

                <div class="row">


                    <div class="col-md-4">

                        <select class="select2_demo_3 form-control">
                            <option></option>
                            @foreach (var item in ViewBag.ListTuyen)
                            {
                                <option type="button" class="list-group-item list-group-item-action sub-handle">
                                    @item.TenTuyen

                                </option>
                            }

                        </select>

                    </div>

                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="ibox ">
                            <div class="ibox-content">
                                <div class="table-responsive">
                                    <table class="table table-striped table-bordered table-hover dataTables-example">
                                        <thead>
                                            <tr>

                                                <th>
                                                    Biển Số
                                                </th>
                                                <th>
                                                    Loại Xe
                                                </th>
                                                <th>
                                                    Tình Trạng Xe
                                                </th>
                                                <th>
                                                    Tên Tài Xế
                                                </th>
                                                <th>
                                                    Tên Tuyến
                                                </th>-->
@*<th>
        Lat
    </th>
    <th>
        Long
    </th>*@
<!--<th>
            Vị Trí Hện Tại
        </th>
    </tr>
</thead>
<tbody>-->
@*@foreach (var item in Model)
    {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.BienSo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LoaiXe)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TinhTrangXe)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TaiXe.HoTen)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TuyenXe.TenTuyen)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.lat)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item._long)
            </td>
            <td>
                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-pencil'></span>", "Edit", "Edit", "Xes", routeValues: new { id = item.MaXe }, htmlAttributes: new { data_modal = "", @class = "btn btn-default" })
                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-zoom-in'></span>", "Detail", "Details", "Xes", routeValues: new { id = item.MaXe }, htmlAttributes: new { data_modal = "", @class = "btn btn-primary" })
                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-trash'></span>", "Delete", "Delete", "Xes", routeValues: new { id = item.MaXe }, htmlAttributes: new { data_modal = "", @class = "btn btn-danger" })
            </td>
        </tr>
    }*@

<!--</tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="wrapper wrapper-content animated fadeInRight" style="padding:0">

</div>
<div id="map"></div>-->
<div class="row" style="padding:0">
    <div class="col-lg-12">
        <div class="ibox">
            <div class="ibox-title">
                <h5>Chọn Tuyến Xe</h5>
            </div>
            <div class="ibox-content">
                <div class="row">
                    <div class="col-md-4">
                        <select id="selecttuyen" onchange="return test()" class="select2_demo_3 form-control">
                            <option></option>
                            @foreach (var item in ViewBag.ListTuyen)
                            {
                                <option value=@item.MaTuyen type="button" class="list-group-item list-group-item-action sub-handle">
                                    @item.TenTuyen
                                </option>
                            }
                        </select>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12">
                        <div class="ibox ">
                            <div class="ibox-content">
                                <div class="table-responsive">
                                    <table id="tableXe" class="table table-striped table-bordered table-hover dataTables-example">
                                        <thead>
                                            <tr>

                                                <th>
                                                    Biển Số
                                                </th>
                                                <th>
                                                    Loại Xe
                                                </th>
                                                <th>
                                                    Tình Trạng Xe
                                                </th>
                                                <th>
                                                    Tên Tài Xế
                                                </th>
                                                <th>
                                                    Tên Tuyến
                                                </th>
                                                <th>
                                                    Chức năng
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>

                                            @if (ViewBag.XeByMaTuyen != null)
                                            {
                                                foreach (var item in ViewBag.XeByMaTuyen)
                                                {
                                                    <tr>
                                                        <td>
                                                            @item.BienSo
                                                        </td>
                                                        <td>
                                                            @item.LoaiXe
                                                        </td>
                                                        <td>
                                                            @item.TinhTrangXe
                                                        </td>
                                                        <td>
                                                            @item.TaiXe.HoTen
                                                        </td>
                                                        <td>
                                                            @item.TuyenXe.TenTuyen
                                                        </td>
                                                        <td>
                                                            <button onclick="return GetCurPosition(@item.MaXe)" type="button" class="btn btn-primary">Xem vị trí hiện tại</button>
                                                        </td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="wrapper wrapper-content animated fadeInRight" style="padding:0">

</div>
<div id="map"></div>